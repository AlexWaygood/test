#!/bin/bash

ErrorCounter () {
    (( errcount++ ))
}

trap ErrorCounter ERR

for project in setuptools six requests python-dateutil idna certifi s3transfer pyyaml pandas packaging pyasn1 rsa cffi importlib-metadata pip protobuf click jmespath pyparsing markupsafe zipp jinja2 pytz pycparser pyjwt cryptography oauthlib requests-oauthlib colorama cachetools chardet sqlalchemy pyasn1-modules websocket-client docutils decorator werkzeug flask google-cloud-storage toml pyarrow aiohttp isodate docker psutil async-timeout itsdangerous pyrsistent azure-storage-blob msrest tabulate googleapis-common-protos py pygments fsspec matplotlib joblib google-api-python-client azure-common scipy prometheus-client gitpython pluggy gunicorn mypy-extensions mako smmap gitdb sqlparse cloudpickle webencodings asn1crypto uritemplate future cycler defusedxml google-resumable-media tqdm google-auth-httplib2 pexpect ipython ptyprocess alembic networkx absl-py scikit-learn prompt-toolkit proto-plus cython ipykernel pyopenssl lxml bleach tornado traitlets entrypoints databricks-cli jedi parso iniconfig backcall pickleshare httplib2 beautifulsoup4 python-editor nest-asyncio typing-inspect pyzmq nbformat adal ipython-genutils mistune tensorflow-serving-api argcomplete nbconvert jupyter-client prometheus-flask-exporter requests-toolbelt pandocfilters mlflow testpath psycopg2-binary nbclient notebook soupsieve querystring-parser pynacl openpyxl terminado jupyterlab-pygments py4j jupyter-core et-xmlfile ipywidgets backports-entry-points-selectable google-auth-oauthlib matplotlib-inline widgetsnbextension s3fs smart-open debugpy bcrypt configparser aiobotocore jupyterlab-widgets plotly libcst wcwidth imageio google-cloud-bigquery pathspec redis mccabe paramiko lightgbm seaborn ruamel-yaml pywavelets msal pyspark pycodestyle markdown scikit-image portalocker msrestazure msgpack ruamel-yaml-clib azure-identity importlib-resources jeepney gensim secretstorage tensorflow-metadata msal-extensions isort tzlocal pyodbc google-cloud-bigquery-storage pymysql gcsfs google-cloud-logging pycryptodomex tfx-bsl scramp pandas-gbq tensorflow-transform pydata-google-auth threadpoolctl appdirs pbr jupyter-console simplejson tensorflow qtconsole qtpy applicationinsights jupyter cached-property more-itertools termcolor pymongo xmltodict tensorflow-addons tensorflow-data-validation google-cloud-monitoring tensorflow-model-analysis oauth2client pydantic pyflakes setuptools-scm xlrd snowflake-connector-python tensorboard dill oscrypto flake8 dataclasses psycopg2 zope-interface azure-storage-common tensorflow-estimator pyfarmhash dnspython azure-mgmt-resource datalab lazy-object-proxy h5py keyring nltk sentry-sdk datadog deprecated marshmallow babel mock azure-mgmt-core elasticsearch pytest-runner distro jsonpickle azure-mgmt-storage black xgboost text-unidecode toolz dask azure-mgmt-keyvault asgiref xlsxwriter distributed sortedcontainers azure-nspkg rfc3986 docopt google-pasta keras-preprocessing slackclient boto azure-mgmt-containerregistry azure-graphrbac azure-mgmt-authorization django mypy ndg-httpsclient pycryptodome backports-zoneinfo selenium retry statsmodels html5lib opt-einsum numba aioitertools pep517 retrying pkginfo azureml-dataprep azureml-core lockfile keras jdcal h11 requests-file sanic pysftp pyathena azure-storage-queue cachecontrol llvmlite kafka-python kubernetes shapely backports-tempfile tensorboard-plugin-wit backports-weakref pendulum torch atomicwrites pg8000 pygithub inflection pycountry python-http-client thrift stevedore arrow unidecode astunparse snowballstemmer blinker
do
#     false
    echo "$i Installing $project"
    pip install $project
done

echo "Total error count: $errcount"
